# 计算机科学速成课 Crash Course Computer Science

## 第三十三集 加密（Cryptography）

![image-20250921220214782](https://gitee.com/zhang-hao688/PicGO/raw/master/images/image-20250921220214782.png)

---

### **核心目标：理解密码学如何保护数字世界的安全**

- **问题起点**：互联网时代需要安全的通信方式，但完美安全的系统不存在
- **关键突破**：从古典密码学到现代加密技术的演进
- **核心理念**：**密码学是数字安全的基石**，通过数学原理保护信息的机密性、完整性和真实性

> 💡 **Carrie Anne 的洞见**：  
> *"密码学不是魔术，而是数学与工程的完美结合——  
> 它让互联网上的每一次点击、每一笔交易、每一条消息  
> 都能在看不见的战场上保持安全。"*

---

### **密码学基础**

- **定义**：密码学(cryptography)源自"crypto"(秘密)和"graphy"(写作)，意为"秘密写作"
- **基本概念**：
  - **明文(Plaintext)**：原始可读信息
  - **密文(Ciphertext)**：加密后的不可读信息
  - **加密(Encryption)**：将明文转为密文的过程
  - **解密(Decryption)**：将密文转回明文的过程
  - **密钥(Key)**：控制加密/解密过程的参数
  - **密码算法(Cipher)**：执行加密/解密的数学算法

- **安全原则**：
  - 没有100%安全的系统，总是存在漏洞
  - 采用"纵深防御"(defence in depth)策略，多层安全机制共同防护
  - 类似城堡防御：需绕过弓箭手、穿过护城河、翻越城墙、避开热油、战胜守卫才能到达王座

---

### **历史上的加密方法**

#### **古典密码学**
- **凯撒密码(Caesar Cipher)**：
  - 公元前1世纪由朱利叶斯·凯撒使用
  - 将字母向前移动固定位数(如3位)
  - 例如："brutus" → "euxwxv"
  - 属于替换密码(substitution cipher)的一种
  - **弱点**：字母频率不变，易被频率分析破解

- **替换密码(Substitution Ciphers)**：
  - 用其他字符替换原文字符
  - 例如：1587年玛丽女王因替换密码被破解而被处决
  - **弱点**：语言特征(如字母频率)保留，易被统计分析

- **移位密码(Permutation Ciphers)**：
  - 改变字符顺序而非替换字符
  - 例如：列移位密码(Columnar Transposition Cipher)
  - 通过网格排列和特定读取顺序加密
  - **弱点**：仍保留语言特征，易受分析

#### **机械加密时代**
- **Enigma机器**：
  - 二战期间纳粹德国使用的加密设备
  - 由键盘、转子、反射器和插板组成
  - **工作原理**：
    - 每次按键，转子旋转，改变加密映射
    - 信号通过多个转子、反射器，再返回
    - 每个字符的加密方式都不同
  - **弱点**：字母永远不会加密为自身，成为关键漏洞
  - **破解**：图灵团队在布莱切利公园成功破解，极大缩短二战

---

### **现代加密标准**

#### **对称加密(Symmetric Encryption)**
- **定义**：加密和解密使用相同密钥
- **数据加密标准(DES)**：
  - 1977年由IBM和NSA开发
  - 56位密钥，约72千万亿种可能组合
  - 1999年25万美元计算机可在2天内暴力破解
  - **弱点**：密钥长度过短，易受暴力破解

- **高级加密标准(AES)**：
  - 2001年取代DES
  - 支持128、192或256位密钥
  - 将数据分为16字节块，进行多轮替换和移位
  - **安全性**：128位密钥需要万亿年才能暴力破解(用所有计算机)
  - **应用**：iPhone文件加密、WPA2 WiFi安全、HTTPS网站通信

- **对称加密优势**：
  - 计算效率高，适合大量数据加密
  - 适合加密通信的主体内容

#### **非对称加密(Asymmetric Encryption)**
- **定义**：使用两个不同密钥(公钥和私钥)
- **基本原理**：
  - 公钥用于加密，私钥用于解密
  - 公钥可公开分享，私钥必须保密
  - 例如：用公钥加密的消息只能用私钥解密
  - 反过来：私钥加密的消息可用公钥解密(用于数字签名)

- **RSA算法**：
  - 以发明者Rivest、Shamir和Adleman命名
  - 基于大数分解难题(将大数分解为质因数)
  - 广泛用于数字签名和密钥交换
  - 例如：网站SSL/TLS证书使用RSA验证身份

---

### **密钥交换技术**

#### **Diffie-Hellman密钥交换**
- **核心问题**：如何在不安全通道上安全交换密钥
- **解决方案**：利用单向函数(One-way Functions)
  - 数学操作易于正向计算，难以逆向推导
  - 类比：混合颜料容易，但拆解混合颜料很难

- **工作原理**：
  1. 双方同意公开参数(基数B和模数M)
  2. 双方各自选择秘密指数(X和Y)
  3. 双方计算B^X mod M和B^Y mod M并交换
  4. 双方计算(B^Y)^X mod M和(B^X)^Y mod M，得到相同结果
  5. 该结果作为共享密钥，用于后续对称加密

- **安全性**：
  - 即使攻击者知道B、M和交换值，也难以计算出共享密钥
  - 数字越大，破解难度呈指数级增长

#### **密钥交换与加密结合**
- 现代安全通信通常结合对称和非对称加密：
  1. 用非对称加密(如RSA)安全交换对称密钥
  2. 用对称加密(如AES)加密实际通信内容
  3. 提高效率的同时保证安全性

---

### **应用与影响**

- **安全网站访问**：
  - 浏览器地址栏的锁图标表示安全连接
  - 公钥密码学验证服务器身份
  - 密钥交换建立临时会话密钥
  - 对称加密保护所有通信内容

- **日常应用**：
  - 网上购物：保护信用卡信息
  - 电子邮件：保护通信隐私
  - 社交媒体：保护个人信息
  - 移动设备：保护本地数据

- **密码学的持续演进**：
  - 量子计算可能威胁现有加密算法
  - 后量子密码学正在开发中
  - 密码学与安全技术将继续共同演进

---

### **历史意义与影响**

- **从古典到现代**：
  - 从凯撒密码到AES，加密技术经历了千年演进
  - 从机械装置到软件算法，加密方式随计算技术进步

- **数字时代的安全基石**：
  - 密码学使互联网成为可能，而非仅限于军事和政府用途
  - 保护了个人隐私、商业机密和国家安全

- **持续挑战**：
  - 密码学与密码分析的"军备竞赛"持续进行
  - 新技术(如量子计算)不断推动加密技术革新
  - 密码学是数字时代不可或缺的安全基础